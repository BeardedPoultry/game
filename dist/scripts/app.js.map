{"version":3,"sources":["regexp/character-select.commonjs-wrap","character-select.js","regexp/game.commonjs-wrap","game.js","regexp/main.commonjs-wrap","main.js","regexp/router.commonjs-wrap","router.js","regexp/vent.commonjs-wrap","vent.js"],"names":[],"mappings":"AAAA;AACA,ECDA;AACA;AADA;AAGA;AADA;AACC;AAGD;AADC;AACC;AACA;AACA;AAGF;AACA;AADC;AACC;AACA;AACA;AACC;AACA;AACA;AACA;AAGH;AADE;AACA;AACC;AACC;AACA;AACA;AACA;AAGJ;AACA;AADE;AACC;AACC;AAGJ;AACA;AADE;AACA;AACA;AAGF;AACA;AADC;AACC;AACA;AACA;AACC;AACA;AACA;AACA;AAGH;AADE;AAGF;AACA;AADC;AACC;AACA;AACA;AAGF;AACA;AADC;AACC;AACC;AACA;AACA;AAGH;AADG;AACA;AACA;AAGH;AACA;AACA;AADC;AACC;AAGF;AACA;AADC;AACC;AACC;AAGH;AADE;AACC;AAGH;AADE;AACC;AAGH;AADE;AACC;AACA;AAGH;AADE;AACC;AACA;AAGH;AADE;AACC;AACA;AAGH;AADE;AACC;AACA;AAGH;AADE;AACC;AACA;AAGH;AADE;AACC;AACA;AAGH;AACA;AACA;AADC;AACC;AACC;AAGH;AADE;AACC;AACA;AAGH;AADE;AACC;AACA;AAGH;AACA;AACA;AADC;AACC;AACA;AAGF;AACA,KDhIE;AACF;AACA;AACA;;AEJA;AACA,ECDA;AACA;AADA;AAGA;AADA;AACC;AAGD;AADC;AAGD;AACA;AACA;AACA;AADC;AACC;AACA;AACA;AACC;AAGH;AACA;AACA;AADC;AACC;AACA;AACC;AAGH;AACA;AACA;AADC;AACC;AACA;AACC;AAGH;AACA;AACA;AADC;AACC;AACA;AACC;AAGH;AACA;AACA;AADC;AACC;AACA;AACC;AAGH;AACA;AACA;AADC;AACC;AACC;AACA;AACA;AACC;AACA;AACA;AAGJ;AADG;AAGH;AACA;AACA;AADC;AACC;AACC;AACA;AACA;AACC;AACA;AACA;AACA;AACA;AAGJ;AACA;AACA;AACA;AADC;AACC;AACC;AACA;AACA;AACC;AACA;AACA;AAGJ;AADG;AAGH;AACA;AACA;AADC;AACC;AACC;AACA;AACA;AACC;AACA;AACA;AAGJ;AADG;AAGH;AACA;AACA;AADC;AACC;AACC;AACA;AACA;AACC;AACA;AACA;AAGJ;AADG;AAGH;AACA;AACA;AADC;AACC;AACC;AACA;AACA;AACC;AACA;AACA;AAGJ;AADG;AAGH;AACA;AACA;AADC;AACC;AACC;AACA;AAGH;AADG;AACA;AAGH;AADG;AAGH;AACA;AACA;AADC;AACC;AACA;AACA;AAGF;AACA;AADC;AACC;AACA;AACA;AAGF;AACA,KDrJE;AACF;AACA;AACA;;AEJA;AACA,ECDA;AACA;AADA;AACE;AAGF;AACA;AACA;AADE;AACE;AACA;AAGJ;AACA;AACA;AADI;AACC;AAGL;AACA;AADI;AACE;AACE;AAGR;AACA;AACA;AADI;AACE;AACA;AAGN;AACA;AADI;AACE;AACA;AAGN;AACA;AACA,KDhCE;AACF;AACA;AACA;;AEJA;AACA,ECDA;AACA;AACA;AADA;AAGA;AADA;AAGA;AADE;AACE;AACE;AACA;AAGN;AACA;AADI;AACE;AAGN;AADM;AACE;AACE;AACA;AACA;AACA;AACA;AACE;AAGZ;AACA;AACA;AACA;AACA;AAAI;AACE;AAEN;AAAM;AACA;AACA;AAEN;AAAM;AACA;AACI;AAEV;AAAM;AACE;AAER;AAAM;AACE;AAER;AAAM;AACE;AAER;AAAM;AACE;AAER;AACA;AACA;AACA;AACA;AAAE;AAEF,KDxDE;AACF;AACA;AACA;;AEJA;AACA,ECDA;AACA;AADA;AAGA;AADA;AACC;AAGD;AADC;AAGD,KDPE;AACF;AACA;AACA","file":"app.js","sourcesContent":["require.register(\"character-select\", function(exports, require, module){\n  $0\n  \n});\n\n","window.GameApp = window.GameApp || {};\n\n(function() {\n\t'use strict';\n\n\t$(document).on('click', '.hero', function(e) {\n\t\tvar target = e.target;\n\t\tGameApp.vent.trigger('hero:selected', target);\n\t\tGameApp.vent.trigger('can:start');\n\t});\n\n\tGameApp.GenerateHero = function GenerateHero(id) {\n\t\tthis.health = (Math.round(Math.random() * 500) + 50);\n\t\tGameApp.heroHealth = this.health;\n\t\tthis.attack = function(target) {\n\t\t\tvar damage = (Math.round(Math.random() * 10) + 15);\n\t\t\tconsole.log(\"Hero dealt: \" +damage+ ' damage.');\n\t\t\thealthChange(target, damage);\n\t\t\treturn damage;\n\t\t}\n\t\tthis.inventory = ['health-potion','bomb','double-whammy'];\n\t\tthis.magic = function(target) {\n\t\t\tif (!GameApp.hero.usedMagic) {\n\t\t\t\tvar damage = (Math.round(Math.random() * 10) + 25);\n\t\t\t\thealthChange(target, damage);\n\t\t\t\tGameApp.hero.usedMagic = true;\n\t\t\t\treturn damage;\n\t\t\t}\n\t\t}\n\t\tthis.useItem = function(item) {\n\t\t\tif (this.inventory.indexOf(item) != -1) {\n\t\t\t\tinventory[item]();\n\t\t\t}\n\t\t}\n\t\tthis.avatar = images[id]();\n\t\tGameApp.arena = images['arena' + randomize()]();\n\t\tGameApp.villain = new GenerateVillain();\n\t}\n\n\tfunction GenerateVillain() {\n\t\tthis.health = (Math.round(Math.random() * 500) + 50);\n\t\tGameApp.villainHealth = this.health;\n\t\tthis.attack = function(target) {\n\t\t\tvar damage = (Math.round(Math.random() * 10) + 15);\n\t\t\tconsole.log(\"Villain dealt: \" +damage+ ' damage.');\n\t\t\thealthChange(target, damage);\n\t\t\treturn damage;\n\t\t}\n\t\tthis.avatar = images['villain' + randomize()]();\n\t}\n\n\tfunction healthChange(target, damage) {\n\t\ttarget.health -= damage;\n\t\tshowDamage(target, damage);\n\t\treturn target.health;\n\t}\n\n\tfunction showDamage(target, damage) {\n\t\tif (target === GameApp.hero) {\n\t\t\t$('.hero-img .damage').fadeIn();\n\t\t\t$('.hero-img .damage').text('-'+damage);\n\t\t\t$('.hero-img .damage').fadeOut(1500);\n\t\t} else {\n\t\t\t$('.villain-img .damage').fadeIn();\n\t\t\t$('.villain-img .damage').text('-'+damage);\n\t\t\t$('.villain-img .damage').fadeOut(1500);\n\t\t}\n\t}\n\n\tfunction randomize() {\n\t\treturn Math.floor(Math.random() * 3) + 1;\n\t}\n\n\tvar images = {\n\t\t'hero1': function () {\n\t\t\treturn '../asset/heros/hero1.png';\n\t\t},\n\t\t'hero2': function () {\n\t\t\treturn '../asset/heros/hero2.png';\n\t\t},\n\t\t'hero3': function () {\n\t\t\treturn '../asset/heros/hero3.png';\n\t\t},\n\t\t'arena1': function () {\n\t\t\t$('.arena:first-child() img').addClass('selected');\n\t\t\treturn '../asset/locations/arena1.jpg';\n\t\t},\n\t\t'arena2': function () {\n\t\t\t$('.arena:nth-child(2) img').addClass('selected');\n\t\t\treturn '../asset/locations/arena2.jpg';\n\t\t},\n\t\t'arena3': function () {\n\t\t\t$('.arena:last-child() img').addClass('selected');\n\t\t\treturn '../asset/locations/arena3.jpg';\n\t\t},\n\t\t'villain1': function () {\n\t\t\t$('.villain:first-child() img').addClass('selected');\n\t\t\treturn '../asset/villain/villain1.png';\n\t\t},\n\t\t'villain2': function () {\n\t\t\t$('.villain:nth-child(2) img').addClass('selected');\n\t\t\treturn '../asset/villain/villain2.png';\n\t\t},\n\t\t'villain3': function () {\n\t\t\t$('.villain:last-child() img').addClass('selected');\n\t\t\treturn '../asset/villain/villain3.png';\n\t\t}\n\t}\n\n\tvar inventory = {\n\t\t'health-potion': function(target) {\n\t\t\tGameApp.hero.health += 25;\n\t\t},\n\t\t'bomb': function(target, other) {\n\t\t\tGameApp.villain.health -= 50;\n\t\t\tGameApp.hero.health -= 40;\n\t\t},\n\t\t'double-whammy': function(target) {\n\t\t\tGameApp.villain.health -= (Math.round(Math.random() * 10) + 25);\n\t\t\tGameApp.villain.health -= (Math.round(Math.random() * 10) + 25);\n\t\t}\n\t}\n\n\tGameApp.allowStart = function() {\n\t\tGameApp.CanStart = true;\n\t\t$('.fightButton').addClass('clickable-now');\n\t}\n\n})();\n","require.register(\"game\", function(exports, require, module){\n  $0\n  \n});\n\n","window.GameApp = window.GameApp || {};\n\n(function() {\n\t'use strict';\n\n\tvar canAttack = true;\n\n\t// The following are events that are triggered when certain keys are pressed, corresponding\n\t// with an attack or inventory item belonging to the hero.\n\n\t$(document).on('keydown', function(e) {\n\t\tvar code = e.keyCode;\n\t\te.preventDefault();\n\t\tif (code === 32) {\n\t\t\tGameApp.vent.trigger('attack');\n\t\t};\n\t});\n\n\t$(document).on('keydown', function(e) {\n\t\tvar code = e.keyCode;\n\t\tif (code === 88) {\n\t\t\tGameApp.vent.trigger('magic');\n\t\t};\n\t});\n\n\t$(document).on('keydown', function(e) {\n\t\tvar code = e.keyCode;\n\t\tif (code === 49) {\n\t\t\tGameApp.vent.trigger('use:health-potion');\n\t\t};\n\t});\n\n\t$(document).on('keydown', function(e) {\n\t\tvar code = e.keyCode;\n\t\tif (code === 50) {\n\t\t\tGameApp.vent.trigger('use:bomb');\n\t\t};\n\t});\n\n\t$(document).on('keydown', function(e) {\n\t\tvar code = e.keyCode;\n\t\tif (code === 51) {\n\t\t\tGameApp.vent.trigger('use:double-whammy');\n\t\t};\n\t});\n\n\tGameApp.heroAttack = function() {\n\t\tif(canAttack === true) {\n\t\t\tGameApp.hero.attack(GameApp.villain);\n\t\t\tGameApp.changeVillainHealth();\n\t\t\tif(checkHealth()) {\n\t\t\t\tGameApp.villainAttack();\n\t\t\t\t$('.instructions').fadeOut();\n\t\t\t\t$('.villain-turn').fadeIn();\n\t\t\t}\n\t\t\tcanAttack = false;\n\t\t}\n\t}\n\n\tGameApp.villainAttack = function() {\n\t\tsetTimeout(function() {\n\t\t\tGameApp.villain.attack(GameApp.hero);\n\t\t\tGameApp.changeHeroHealth();\n\t\t\tif(checkHealth()) {\n\t\t\t\t$('.villain-turn').fadeOut();\n\t\t\t\t$('.instructions').fadeIn();\n\t\t\t\tconsole.log('Hero health remaining: '+GameApp.hero.health);\n\t\t\t\tconsole.log('ready');\n\t\t\t\tcanAttack = true;\n\t\t\t}\n\t\t}, 3000);\n\t}\n\n\tGameApp.heroMagic = function() {\n\t\tif(canAttack === true) {\n\t\t\tGameApp.hero.magic(GameApp.villain);\n\t\t\tGameApp.changeVillainHealth();\n\t\t\tif(checkHealth()) {\n\t\t\t\tGameApp.villainAttack();\n\t\t\t\t$('.instructions').fadeOut();\n\t\t\t\t$('.villain-turn').fadeIn();\n\t\t\t};\n\t\t\tcanAttack = false;\n\t\t}\n\t}\n\n\tGameApp.useHealth = function() {\n\t\tif(canAttack === true) {\n\t\t\tGameApp.hero.useItem('health-potion');\n\t\t\tGameApp.changeHeroHealth();\n\t\t\tif(checkHealth()) {\n\t\t\t\tGameApp.villainAttack();\n\t\t\t\t$('.instructions').fadeOut();\n\t\t\t\t$('.villain-turn').fadeIn();\n\t\t\t};\n\t\t\tcanAttack = false;\n\t\t}\n\t}\n\n\tGameApp.useBomb = function() {\n\t\tif(canAttack === true) {\n\t\t\tGameApp.hero.useItem('bomb');\n\t\t\tGameApp.changeVillainHealth();\n\t\t\tif(checkHealth()) {\n\t\t\t\tGameApp.villainAttack();\n\t\t\t\t$('.instructions').fadeOut();\n\t\t\t\t$('.villain-turn').fadeIn();\n\t\t\t};\n\t\t\tcanAttack = false;\n\t\t}\n\t}\n\n\tGameApp.useWhammy = function() {\n\t\tif(canAttack === true) {\n\t\t\tGameApp.hero.useItem('double-whammy');\n\t\t\tGameApp.changeVillainHealth();\n\t\t\tif(checkHealth()) {\n\t\t\t\tGameApp.villainAttack();\n\t\t\t\t$('.instructions').fadeOut();\n\t\t\t\t$('.villain-turn').fadeIn();\n\t\t\t};\n\t\t\tcanAttack = false;\n\t\t}\n\t}\n\n\tfunction checkHealth () {\n\t\tif (GameApp.hero.health <= 0) {\n\t\t\talert(\"YOU LOST!\");\n\t\t\treturn false;\n\t\t} else if (GameApp.villain.health <= 0) {\n\t\t\talert(\"YOU WON!\");\n\t\t\tfalse;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tGameApp.changeHeroHealth = function() {\n\t\tvar healthPercent = Math.round((GameApp.hero.health / GameApp.heroHealth) * 100);\n\t\tconsole.log(healthPercent);\n\t\t$('.health-green.hero').css({'width': ''+healthPercent+'%'})\n\t}\n\n\tGameApp.changeVillainHealth = function() {\n\t\tvar healthPercent = Math.round((GameApp.villain.health / GameApp.villainHealth) * 100);\n\t\tconsole.log(healthPercent);\n\t\t$('.health-green.villain').css({'width': ''+healthPercent+'%'})\n\t}\n\n})();\n","require.register(\"main\", function(exports, require, module){\n  $0\n  \n});\n\n","(function(){\n  'use strict';\n\n  // Create an event hub\n\n  $(document).ready(function(){\n    GameApp.router = new GameApp.GameRouter();\n    Backbone.history.start();\n    // fetchMessages();\n    // window.setInterval(fetchMessages, 30000);\n\n    $(document).on('click', '.characterSelectButton', function(e) {\n    \t$('.popup-div').hide();\n    });\n\n    $(document).on('click', '.fightButton', function() {\n      if (GameApp.CanStart === true) {\n        GameApp.router.navigate('fight', {trigger: true});\n      }\n    });\n\n    $(document).on('click', '.hide-footer', function() {\n      $('.fight-status').slideToggle();\n      $('.show-footer').show();\n    });\n\n    $(document).on('click', '.show-footer', function() {\n      $('.fight-status').slideToggle();\n      $('.show-footer').hide();\n    });\n\n  });\n\n})();\n","require.register(\"router\", function(exports, require, module){\n  $0\n  \n});\n\n","// create global variable if doesn't already exist\nwindow.GameApp = window.GameApp || {};\n\n(function(){\n\n  GameApp.GameRouter = Backbone.Router.extend({\n    routes: {\n      '': 'index',\n      'fight': 'fight'\n    },\n\n    index: function(){\n      $('.application').html(JST['characterselect']());\n\n      GameApp.vent.on('hero:selected', function(target) {\n        if(!GameApp.heroSelected) {\n          $(target).siblings().toggle('visibility');\n          $(target).toggleClass('selected');\n          GameApp.hero = new GameApp.GenerateHero(target.id);\n          GameApp.heroSelected = true;\n          GameApp.vent.on('can:start', function() {\n            GameApp.allowStart();   \n          });\n        }\n      });\n\n    },\n\n    fight: function() {\n      $('.application').html(JST['fight-screen']());\n\n      $('html').css({'background-image': 'url(\"'+GameApp.arena+'\")'});\n      $('.hero-img img').attr('src', '../'+GameApp.hero.avatar);\n      $('.villain-img img').attr('src', '../'+GameApp.villain.avatar);\n\n      $('.villain-turn').fadeOut();\n      GameApp.vent.on('attack', function() {\n          GameApp.heroAttack();\n        });\n      GameApp.vent.on('magic', function() {\n        GameApp.heroMagic();\n      });\n      GameApp.vent.on('use:health-potion', function() {\n        GameApp.useHealth();\n      });\n      GameApp.vent.on('use:bomb', function() {\n        GameApp.useBomb();\n      });\n      GameApp.vent.on('use:double-whammy', function() {\n        GameApp.useWhammy();\n      });\n      // $('html').css('background-image', GameApp.arena);\n    }\n  });\n\n  GameApp.router = new GameApp.GameRouter();\n\n})();\n","require.register(\"vent\", function(exports, require, module){\n  $0\n  \n});\n\n","window.GameApp = window.GameApp || {};\n\n(function() {\n\t'use strict';\n\n\tGameApp.vent = _.extend({}, Backbone.Events);\n\n})();"],"sourceRoot":"/source/"}